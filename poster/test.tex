\RequirePackage[ngerman=ngerman-x-latest]{hyphsubst}
\documentclass[%
  ngerman,
%  titlepage,
%  widehead,
  ddcfoot,color=pale,
%  geometry=no,
  DIV=12,%twoside,
%  headinclude,
%  footinclude,
%  twoside,
%  draft,
%%  cd=color,
%  paper=a6,
%cdfont=no,
%footinclude,
%footheight=3.6cm,
]%
{tudscrreprtnew}
%{scrreprt}
\usepackage{selinput}\SelectInputMappings{adieresis={ä},germandbls={ß}}
\usepackage[T1]{fontenc}
\usepackage{babel}
\usepackage{blindtext}
%\usepackage{showframe}
\usepackage{layout}
\usepackage{tudscrcolor,twocolfix}
\usepackage{etoolbox}
\usepackage{scrlayer-scrpage}

\begin{document}
\ifcsdef{tudcls@name}{%
\faculty{Juristische Fakultät}
\department{Fachrichtung Strafrecht}
\institute{Institut für Kriminologie}
\chair{Lehrstuhl für Kriminalprognose und noch etwas}
\extraheadline{Lehrstuhl für Kriminalprognose}
%\TUDoptions{ddcfoot}
}{}
\date{16.12.2014}
\author{Mickey Mouse}
\title{Die Klasse tudscrposter}
\subtitle{Eine \LaTeX-Klasse für die Evaluationsposter}
%\maketitle

\makeatletter
\ifcsdef{tudcls@name}{%
\DeclareNewLayer[%
  background,align=tl,%
  contents={%
    \color{HKS41}%
    \rule{\layerwidth}{\tud@dim@headheight}%
  },%
]{tudheadings.head.back}%
\DeclareNewLayer[%
  background,align=tl,%
  voffset=\dimexpr\tud@dim@headheight-.0\tud@dim@line\relax,%
  contents={%
    \color{HKS41!80}%
    \rule{\layerwidth}{\tud@dim@barheight}
  },%
]{tudheadings.head.bar}%
}{}



\DeclareNewLayer[%
  background,
  hoffset=0pt,
  voffset=\dimexpr%
    \topmargin+1in+\headheight+\headsep+\textheight%
    +\footskip-\footheight\relax,%
  height=\dimexpr\paperheight-\layeryoffset\relax,%
  width=\paperwidth,%
  contents={%
    \color{HKS41!80}%
    \rule{\layerwidth}{\layerheight}%
  },%
]{tudheadings.foot.back}%

\RedeclareLayer[%
  clone=tudheadings.foot.back,%
  hoffset=\dimexpr
    \if@twoside\ifodd\value{page}\oddsidemargin\else\evensidemargin\fi
    \else\oddsidemargin\fi
    +1in
  \relax,
  width=\textwidth,%
  height=\dimexpr\paperheight-\layeryoffset-1pt\relax,%
  contents={%
    \hfill\vbox to \layerheight{\vfil\hbox{\tud@footlogo}\vfil}%
  },%
]{tudheadings.foot.ddclogo}%

% ToDo §§§ evtl separater Layer für Drittlogos
%\vbox to \layerheight{\vfil\hbox{\includegraphics[height=1cm]{DDC-07}}\vfil}


\ifcsdef{tudcls@name}{%
\DeclareNewPageStyleByLayers{color.tudheadings}{%
  tudheadings.head.back,%§§§
  tudheadings.head.bar,%§§§
  tudheadings.head.mainlogo,%
  tudheadings.head.logo,%
%  tudheadings.head.topline,%
%  tudheadings.head.bottomline,%
%  tudheadings.head.topwideline,%
%  tudheadings.head.bottomwideline,%
  tudheadings.head.text,%
  tudheadings.foot.back,%§§§
  tudheadings.foot.ddclogo,%
  scrheadings.foot.odd,%
  scrheadings.foot.even,%
  scrheadings.foot.oneside,%
  scrheadings.foot.above.line,%
  scrheadings.foot.below.line%
}%
\listadd\tud@pslist{color.tudheadings}
\AddToLayerPageStyleOptions{color.tudheadings}{%
  onselect={\tud@ps@init},%
  onbackground=\def\tud@head@logocolor{white},%
}%

}{%
\AddLayersToPageStyle{plain.scrheadings}{%
  tudheadings.foot.back,%
}
}
\letcs\ps@empty{ps@color.tudheadings}

\newcommand{\showlayout}{%
\noindent
%\the\footskip
%\the\footheight
%\the\tud@ta@footheight
\layout*
}

%\renewcommand*\titlepagestyle{color.tudheadings}


\maketitle%onecolumn{\blindtext\Blindtext}

\part{title}
\renewcommand{\chapterpagestyle}{tudheadings}
\chapter{title}

\blindtext
\clearpage

\pagestyle{scrheadings}
\Blindtext

\pagestyle{color.tudheadings}
\Blindtext
\meaning\tud@head@logocolor
%\clearpage
\TUDoptions{parttitle,cd=pale}
\meaning\tud@head@logocolor
\part{title}
\Blindtext


%\recalctypearea
%\the\tud@dim@margin
%
%\the\tud@dim@footarea
%
%\the\tud@dim@footsep
%
%\setlength{\@tempdima}{21mm}
%\the\@tempdima
%%\the\footheight
%
%%\the\footskip
%
%%\the\baselineskip

%\showlayout

%\setlength{\@tempdima}{\dimexpr\tud@dim@footarea-\tud@ta@footheight\relax}
%\ifdim\@tempdima<\z@\relax\setlength{\@tempdima}{\z@}\fi%
%\setlength{\footheight}{\dimexpr\footheight+\@tempdima}
%\setlength{\footskip}{\dimexpr\footskip+\@tempdima}
%\showlayout

%\KOMAoptions{footheight=\tud@dim@footarea}
%\recalctypearea
%\showlayout

%\KOMAoptions{footlines=1.25}
%\recalctypearea
%\showlayout



%\TUDoptions{ddcfoot=on}
%\recalctypearea
%\showlayout

%\setlength{\@tempdima}{\dimexpr\tud@dim@footarea-\tud@ta@footheight\relax}
%\ifdim\@tempdima<\z@\relax\setlength{\@tempdima}{\z@}\fi%
%\setlength{\footheight}{\dimexpr\footheight+\@tempdima}
%\setlength{\footskip}{\dimexpr\footskip+\@tempdima}
%\showlayout
%
%\KOMAoptions{footheight=\tud@dim@footarea}
%\recalctypearea
%\showlayout
%
%\KOMAoptions{footlines=1.25}
%\recalctypearea
%\showlayout

\end{document}

\section{Überschrift}
\blindtext
\subsection{Überschrift}
\blindtext
\subsubsection{Überschrift}
\blindtext
\clearpage