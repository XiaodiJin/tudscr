\documentclass{scrartcl}
\usepackage{noindentafter}
%\usepackage{enumitem}
%\setlist{noitemsep}

\begin{document}
% First of all the testing output. There are three different sections using the 
% itemize environment. At the first section, itemize ist followed by an 
% paragraph, where indention should be supressed. Within the next section, 
% there are no paragrpahs at all around itemize. At the end, there is another 
% itemize environment directly followed by a section. With noindentafter, this 
% case leads du a wrong vertical spacing because of using \@afterheading.
\newcommand*\testitemize[1]{%
  \section*{Environment followed by paragraph: #1}
  
  Pellentesque hendrerit volutpat feugiat. Ut purus
  leo, pulvinar sit amet vehicula non, pulvinar eu
  lacus. Curabitur id mollis ligula.
  
  \begin{itemize}
  \item First Item
  \item Second Item
  \end{itemize}
  
  Pellentesque hendrerit volutpat feugiat. Ut purus
  leo, pulvinar sit amet vehicula non, pulvinar eu
  lacus. Curabitur id mollis ligula.
  
  Pellentesque hendrerit volutpat feugiat. Ut purus
  leo, pulvinar sit amet vehicula non, pulvinar eu
  lacus. Curabitur id mollis ligula.
  
  \section*{Environment not followed by paragraph: #1}
  Vestibulum id erat venenatis, facilisis enim non,
  consectetur felis. Quisque iaculis eu arcu non pretium.
  \begin{itemize}
  \item Third Item
  \item Fourth Item
  \end{itemize}
  Vestibulum id erat venenatis, facilisis enim non,
  consectetur felis. Quisque iaculis eu arcu non pretium.
  
  Vestibulum id erat venenatis, facilisis enim non,
  consectetur felis. Quisque iaculis eu arcu non pretium.
  
  \begin{itemize}
  \item Fifth Item
  \item Sixth Item
  \end{itemize}
  
  \section*{Environment followed by section: #1}
  Curabitur est elit, posuere pulvinar laoreet sed, varius
  id mi. Nam lobortis elit nec mauris condimentum gravida.
  
  Curabitur est elit, posuere pulvinar laoreet sed, varius
  id mi. Nam lobortis elit nec mauris condimentum gravida.
}

\testitemize{Standard}
\clearpage


% We need another hook, which is really executed after the environment due to 
% the hook of \AfterEndEnvironment is invoked before \if@ignore
\makeatletter
\newrobustcmd{\AfterVeryEndEnvironment}[1]{\csgappto{@afterveryend@#1@hook}}
\patchcmd\end{%
  \if@ignore\@ignorefalse\ignorespaces\fi%
}{%
  \if@ignore\@ignorefalse\ignorespaces\fi%
  \csuse{@afterveryend@#1@hook}%
}{}{%
  \etb@warning{%
    Patching '\string\end' failed!\MessageBreak
    '\string\AfterEndEnvironment' will not work\@gobble
  }%
}
% The new implementation. If any environment ist directly followed by a 
% paragraph, the indetion ist skipped via \setbox\z@\lastbox.
\newcommand*\newnoindentafter{%
  \@ifnextchar\par{%
    \def\par{%
      \everypar{\setbox\z@\lastbox\everypar{}}%
      \@restorepar%
    }%
  }{}%
}
\makeatother

\begingroup
  \AfterVeryEndEnvironment{itemize}{\newnoindentafter}
  \testitemize{New}
  \clearpage
  \begingroup
    \let\newnoindentafter\relax
    \testitemize{Standard again}
    \clearpage
    \NoIndentAfterEnv{itemize}
    \testitemize{Old}
    \clearpage
    \endgroup
  \let\NoIndentAfterThis\relax
  \testitemize{New again}
  \clearpage
\endgroup

\newcommand*\testparagraph[1]{%
  \section*{Using \textbackslash NoIndentAfterThis: #1}
  Lorem ipsum dolor sit amet, consectetur adipiscing elit. Lorem ipsum dolor 
  sit amet, consectetur adipiscing elit. Now \textbackslash NoIndentAfterThis 
  is used directly followed by a paragraph: \NoIndentAfterThis
  
  Pellentesque hendrerit volutpat feugiat. Ut purus leo, pulvinar sit amet 
  vehicula non, pulvinar eu lacus. Curabitur id mollis ligula.
  
  \bigskip
  
  Lorem ipsum dolor sit amet, consectetur adipiscing elit. Lorem ipsum dolor 
  sit amet, consectetur adipiscing elit. Now \textbackslash NoIndentAfterThis 
  is used not followed by a paragraph: \NoIndentAfterThis Pellentesque 
  hendrerit volutpat feugiat. Ut purus leo, pulvinar sit amet 
  vehicula non, pulvinar eu lacus. Curabitur id mollis ligula.
  
  \bigskip
  
  NoIndentAfterThis: \meaning\NoIndentAfterThis
}

\testparagraph{Old}
\clearpage
\begingroup
\def\NoIndentAfterThis{\newnoindentafter\par\par}
\testparagraph{New}
\endgroup
\clearpage

\newcommand*\testcommand[1]{%
  \section*{Using \textbackslash NoIndentAfterCmd: #1}
  Lorem ipsum dolor sit amet, consectetur adipiscing elit. Lorem ipsum dolor 
  sit amet, consectetur adipiscing elit.
  
  \[ 1 + 1 = 2 \]
  
  Pellentesque hendrerit volutpat feugiat. Ut purus leo, pulvinar sit amet 
  vehicula non, pulvinar eu lacus. Curabitur id mollis ligula.
  
  Pellentesque hendrerit volutpat feugiat. Ut purus leo, pulvinar sit amet 
  vehicula non, pulvinar eu lacus. Curabitur id mollis ligula.
  
  \NoIndentAfterCmd \]
  
  \[ 2 + 2 = 4 \]
  
  Vestibulum id erat venenatis, facilisis enim non,
  consectetur felis. Quisque iaculis eu arcu non pretium.
  
  Vestibulum id erat venenatis, facilisis enim non,
  consectetur felis. Quisque iaculis eu arcu non pretium.
}

\begingroup
\testcommand{old}
\endgroup
\clearpage
\begingroup
\def\NoIndentAfterThis{\newnoindentafter\par\par}
\testcommand{new}
\endgroup
\clearpage

\section*{Suggestion for implementation}

\begin{verbatim}
%\makeatletter
\patchcmd\end{%
  \if@ignore\@ignorefalse\ignorespaces\fi%
}{%
  \if@ignore\@ignorefalse\ignorespaces\fi%
  \csuse{@noindent@#1@hook}%
}{}{%
  \PackageWarningNoLine{noindentafter}{%
    Patching '\string\end' failed!\MessageBreak
    '\string\NoIndentAfterEnv' will not work\@gobble
  }%
}
\newcommand*\@NoIndentAfter{%
  \@ifnextchar\par{%
    \def\par{%
      \everypar{\setbox\z@\lastbox\everypar{}}%
      \@restorepar%
    }%
  }{}%
}
\newrobustcmd{\NoIndentAfterEnv}[1]{%
  \csdef{@noindent@#1@hook}{\@NoIndentAfter}%
}
\newrobustcmd*{\NoIndentAfterThis}{\@NoIndentAfter\par\par}
\newrobustcmd*{\NoIndentAfterCmd}[1]{%
  \apptocmd{#1}{\NoIndentAfterThis}{}{%
    \PackageWarning{noindentafter}{%
      Patching '\string#1' failed!\MessageBreak
      '\string\NoIndentAfterCmd' will not work\@gobble
    }%
  }%
}
%\makeatother
\end{verbatim}

\clearpage
\section*{Example}
\begin{verbatim}
\documentclass{scrartcl}
\usepackage{etoolbox}
\usepackage{enumitem}
\setlist{noitemsep}

\makeatletter
\patchcmd\end{%
  \if@ignore\@ignorefalse\ignorespaces\fi%
}{%
  \if@ignore\@ignorefalse\ignorespaces\fi%
  \csuse{@noindent@#1@hook}%
}{}{%
  \PackageWarningNoLine{noindentafter}{%
    Patching '\string\end' failed!\MessageBreak
    '\string\NoIndentAfterEnv' will not work\@gobble
  }%
}
\newcommand*\@NoIndentAfter{%
  \@ifnextchar\par{%
    \def\par{%
      \everypar{\setbox\z@\lastbox\everypar{}}%
      \@restorepar%
    }%
  }{}%
}
\newrobustcmd{\NoIndentAfterEnv}[1]{%
  \csdef{@noindent@#1@hook}{\@NoIndentAfter}%
}
\newrobustcmd*{\NoIndentAfterThis}{\@NoIndentAfter\par\par}
\newrobustcmd*{\NoIndentAfterCmd}[1]{%
  \apptocmd{#1}{\NoIndentAfterThis}{}{%
    \PackageWarning{noindentafter}{%
      Patching '\string#1' failed!\MessageBreak
      '\string\NoIndentAfterCmd' will not work\@gobble
    }%
  }%
}
\makeatother

\begin{document}
\section*{Environment followed by paragraph}

Pellentesque hendrerit volutpat feugiat. Ut purus
leo, pulvinar sit amet vehicula non, pulvinar eu
lacus. Curabitur id mollis ligula.

\begin{itemize}
\item First Item
\item Second Item
\end{itemize}

Pellentesque hendrerit volutpat feugiat. Ut purus
leo, pulvinar sit amet vehicula non, pulvinar eu
lacus. Curabitur id mollis ligula.

Pellentesque hendrerit volutpat feugiat. Ut purus
leo, pulvinar sit amet vehicula non, pulvinar eu
lacus. Curabitur id mollis ligula.

\section*{Environment not followed by paragraph}
Vestibulum id erat venenatis, facilisis enim non,
consectetur felis. Quisque iaculis eu arcu non pretium.
\begin{itemize}
\item Third Item
\item Fourth Item
\end{itemize}
Vestibulum id erat venenatis, facilisis enim non,
consectetur felis. Quisque iaculis eu arcu non pretium.

Vestibulum id erat venenatis, facilisis enim non,
consectetur felis. Quisque iaculis eu arcu non pretium.

\begin{itemize}
\item Fifth Item
\item Sixth Item
\end{itemize}

\section*{Environment followed by section}
Curabitur est elit, posuere pulvinar laoreet sed, varius
id mi. Nam lobortis elit nec mauris condimentum gravida.

Curabitur est elit, posuere pulvinar laoreet sed, varius
id mi. Nam lobortis elit nec mauris condimentum gravida.

\clearpage

\NoIndentAfterEnv{itemize}

\section*{Environment followed by paragraph}

Pellentesque hendrerit volutpat feugiat. Ut purus
leo, pulvinar sit amet vehicula non, pulvinar eu
lacus. Curabitur id mollis ligula.

\begin{itemize}
\item First Item
\item Second Item
\end{itemize}

Pellentesque hendrerit volutpat feugiat. Ut purus
leo, pulvinar sit amet vehicula non, pulvinar eu
lacus. Curabitur id mollis ligula.

Pellentesque hendrerit volutpat feugiat. Ut purus
leo, pulvinar sit amet vehicula non, pulvinar eu
lacus. Curabitur id mollis ligula.

\section*{Environment not followed by paragraph}
Vestibulum id erat venenatis, facilisis enim non,
consectetur felis. Quisque iaculis eu arcu non pretium.
\begin{itemize}
\item Third Item
\item Fourth Item
\end{itemize}
Vestibulum id erat venenatis, facilisis enim non,
consectetur felis. Quisque iaculis eu arcu non pretium.

Vestibulum id erat venenatis, facilisis enim non,
consectetur felis. Quisque iaculis eu arcu non pretium.

\begin{itemize}
\item Fifth Item
\item Sixth Item
\end{itemize}

\section*{Environment followed by section}
Curabitur est elit, posuere pulvinar laoreet sed, varius
id mi. Nam lobortis elit nec mauris condimentum gravida.

Curabitur est elit, posuere pulvinar laoreet sed, varius
id mi. Nam lobortis elit nec mauris condimentum gravida.

\clearpage


\section*{Using \textbackslash NoIndentAfterThis}
Lorem ipsum dolor sit amet, consectetur adipiscing elit.
Lorem ipsum dolor sit amet, consectetur adipiscing elit. 
Now \textbackslash NoIndentAfterThis is used directly 
followed by a paragraph: \NoIndentAfterThis

Pellentesque hendrerit volutpat feugiat. Ut purus leo, 
pulvinar sit amet vehicula non, pulvinar eu lacus. Curabitur 
id mollis ligula.

\bigskip

Lorem ipsum dolor sit amet, consectetur adipiscing elit.
Lorem ipsum dolor sit amet, consectetur adipiscing elit. 
Now \textbackslash NoIndentAfterThis is used not followed 
by a paragraph: \NoIndentAfterThis Pellentesque hendrerit 
volutpat feugiat. Ut purus leo, pulvinar sit amet vehicula 
non, pulvinar eu lacus. Curabitur id mollis ligula.

\bigskip



\section*{Using \textbackslash NoIndentAfterCmd}
Lorem ipsum dolor sit amet, consectetur adipiscing elit.
Lorem ipsum dolor sit amet, consectetur adipiscing elit:

\[ 1 + 1 = 2 \]

Pellentesque hendrerit volutpat feugiat. Ut purus leo,
pulvinar sit amet vehicula non, pulvinar eu lacus. Curabitur 
id mollis ligula.

Pellentesque hendrerit volutpat feugiat. Ut purus leo, 
pulvinar sit amet vehicula non, pulvinar eu lacus. Curabitur
id mollis ligula.

\NoIndentAfterCmd \]

\[ 2 + 2 = 4 \]

Vestibulum id erat venenatis, facilisis enim non, consectetur
felis. Quisque iaculis eu arcu non pretium.

Vestibulum id erat venenatis, facilisis enim non, consectetur 
felis. Quisque iaculis eu arcu non pretium.
\end{document}
\end{verbatim}
\end{document}