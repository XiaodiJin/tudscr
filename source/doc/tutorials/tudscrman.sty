%%
%% This is file `tudscrman.sty',
%% generated with the docstrip utility.
%%
%% The original source files were:
%%
%% tudscr-version.dtx  (with options: `package,manual,tudscr')
%% tudscr-manual.dtx  (with options: `package,identify')
%% tudscr-base.dtx  (with options: `load')
%% tudscr-manual.dtx  (with options: `package,option')
%% tudscr-base.dtx 
%% tudscr-manual.dtx  (with options: `package,body')
%% tudscr-misc.dtx  (with options: `package,manual')
%% 
%% ======================================================================
%% 
%% Das Corporate Design der TU Dresden auf Basis der KOMA-Script-Klassen
%% 
%% ======================================================================
%% This work may be distributed and/or modified under the conditions of
%% the LaTeX Project Public License, version 1.3c of the license.
%% The latest version of this license is in
%%     http://www.latex-project.org/lppl.txt
%% and version 1.3c or later is part of all distributions of LaTeX
%% version 2005/12/01 or later and of this work.
%% This work has the LPPL maintenance status "author-maintained".
%% The current maintainer and author of this work is Falk Hanisch.
%% ----------------------------------------------------------------------
%% Dieses Werk darf nach den Bedingungen der LaTeX Project Public Lizenz,
%% Version 1.3c, verteilt und/oder veraendert werden.
%% Die neuste Version dieser Lizenz ist
%%     http://www.latex-project.org/lppl.txt
%% und Version 1.3c ist Teil aller Verteilungen von LaTeX
%% Version 2005/12/01 oder spaeter und dieses Werks.
%% Dieses Werk hat den LPPL-Verwaltungs-Status "author-maintained"
%% (allein durch den Autor verwaltet).
%% Der aktuelle Verwalter und Autor dieses Werkes ist Falk Hanisch.
%% ======================================================================
%% 
%%% From File: tudscr-version.dtx
\begingroup%
  \catcode`\@11\relax%
  \ifx\TUDVersion\undefined%
    \newcommand*\@TUDVersion[1]{\gdef\TUDVersion{#1}}%
  \else%
    \newcommand*\@TUDVersion[1]{%
      \def\@tempa{#1}%
      \ifx\TUDVersion\@tempa\else%
        \@latex@warning@no@line{%
          \noexpand\TUDVersion\space is `\TUDVersion',\MessageBreak%
          but `#1' was expected!\MessageBreak%
          You should not use classes, packages or files from\MessageBreak%
          different TUD-KOMA-Script-Bundle versions%
        }%
      \fi%
    }%
  \fi%
  \@TUDVersion{2014/09/17 v2.02 TUD-KOMA-Script}%
\endgroup%
\providecommand*\tudscrmail{tudscr@gmail.com}
\@ifundefined{tudcls@name}{%
  \PackageError{%
    tudscrmanual%
  }{Unsupported class found}{%
    This package can only be used with a class out of the\MessageBreak%
    tudscr bundle (tudscrartcl, tudscrreprt, tudscrbook)%
  }
  \endinput
}{}
%%% From File: tudscr-manual.dtx
\NeedsTeXFormat{LaTeX2e}[2011/06/27]
\ProvidesPackage{tudscrman}[%
  2014/09/17 v2.02 TUD-KOMA-Script
  package (internal tutorials)%
]
%%% From File: tudscr-base.dtx
\RequirePackage{tudscrbase}[\TUDVersion]
%%% From File: tudscr-manual.dtx
\KOMAoptions{headings=small}%
\TUDoptions{cd=true,cdfoot=true}%
\newif\if@tud@todo
\@tud@todotrue
\TUD@ifkey{ToDo}{@tud@todo}
%%% From File: tudscr-base.dtx
%%% From File: tudscr-manual.dtx
\newlength\baselineskipglue
\setlength\baselineskipglue{%
  .5\baselineskip plus .5\baselineskip minus .25\baselineskip%
}
\RequirePackage{xparse}[2013/12/31]
\RequirePackage{microtype}[2013/05/23]
\RequirePackage{textcomp}[2005/09/27]
\RequirePackage{fixltx2e}[2014/06/10]
\RequirePackage{setspace}[2011/12/19]
\setstretch{1.1}\recalctypearea
\RequirePackage{babel}[2014/03/24]
\AtEndPreamble{\RequirePackage{csquotes}[2011/10/22]}
\RequirePackage{quoting}[2014/01/28]
\RequirePackage{isodate}[2010/01/03]
\RequirePackage{hologo}[2012/04/26]
\RequirePackage{marginnote}[2012/03/29]
\newcommand*\tud@write@file{}
\newcommand*\tud@write@option{}
\newcommand*\tud@write@copy{}
\RequirePackage{listings}[2014/03/04]
\lstnewenvironment{Code}[1][]{\lstset{style=tudscr,#1}}{}
\lstdefinestyle{tudscr}{%
  basicstyle=\ttfamily\setstretch{1},%
  keywordstyle=,%
  columns=fullflexible,keepspaces,%
  aboveskip=.5\baselineskipglue,%
  belowskip=.5\baselineskipglue,%
  language=[LaTeX]TeX,%
  texcl,%
}
\newcommand*\tud@currentHref{}
\BeforeBeginEnvironment{Code}{\global\let\tud@currentHref\@currentHref}
\AfterEndEnvironment{Code}{\global\let\@currentHref\tud@currentHref}
\newcommand*\tudscr@manual{tudscr}%
\RequirePackage{filecontents}[2011/10/08]
\RequirePackage{silence}[2012/07/02]
\WarningFilter[Tutorial]{latex}{Overwriting file}%
\newcommand*\@Tutorial{%
  \ActivateWarningFilters[Tutorial]%
  \@nameuse{filecontents*}{\jobname-temp.tut}%
}
\newcommand*\@@Tutorial{%
  \@nameuse{endfilecontents*}%
  \DeactivateWarningFilters[Tutorial]%
  \tud@tut@append%
  \gdef\@tempa{%
    \begin{quoting}[rightmargin=0pt]%
    \lstinputlisting[style=tudscr]{\jobname-temp.tut}%
    \end{quoting}%
  }%
  \aftergroup\@tempa%
}
\newcommand*\@@@Tutorial{}
\let\@@@Tutorial\relax
\newcommand\TutorialPreamble[1]{\gdef\@@@Tutorial{#1}}
\newenvironment{Tutorial}{\@Tutorial}{\@@Tutorial}
\newenvironment{Tutorial*}{\@Tutorial}{\@@Tutorial}
\newenvironment{Tutorial+}[1]{\gdef\@@@Tutorial{#1}\@Tutorial}{\@@Tutorial}
\newenvironment{Tutorial-}{\@Tutorial}{\@@Tutorial}
\AfterEndEnvironment{Tutorial}{%
  \@@@Tutorial%
  \input{\jobname-temp.tut}%
  \global\let\@@@Tutorial\relax%
  \par\noindent%
}
\AfterEndEnvironment{Tutorial*}{%
  \global\let\@@@Tutorial\relax%
  \par\noindent%
}
\ifcase\pdf@shellescape\or
\begin{filecontents*}{\jobname-temp.tex}
\RequirePackage[ngerman=ngerman-x-latest]{hyphsubst}
\documentclass[english,ngerman]{tudscrreprt}
\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
\usepackage{babel}
\usepackage{tudscrsupervisor}
\usepackage{isodate}
\begin{document}
\input{\jobname.tut}
\end{document}
\end{filecontents*}
\fi
\AfterEndEnvironment{Tutorial+}{%
  \IfFileExists{\jobname-temp}{%
    \edef\tud@write@file{\jobname-temp}%
    \edef\tud@write@option{-jobname=\@@@Tutorial-temp }%
    \edef\tud@write@copy{}%
  }{%
    \edef\tud@write@file{tutorials/\jobname-temp}%
    \edef\tud@write@option{%
      -output-directory tutorials -jobname=\@@@Tutorial-temp
    }%
    \edef\tud@write@copy{tutorials\@backslashchar}%
  }%
  \immediate\write18{%
    copy \tud@write@copy\jobname-temp.tut \tud@write@copy\@@@Tutorial-temp.tut
  }
  \immediate\write18{%
    pdflatex \tud@write@option \tud@write@file.tex
    pdflatex \tud@write@option \tud@write@file.tex
    pdflatex \tud@write@option \tud@write@file.tex
  }%
  \global\let\@@@Tutorial\relax%
  \par\noindent%
}
\NewDocumentCommand\includetutorial{omO{1}}{%
  \IfFileExists{\jobname-temp}{%
    \edef\tud@write@file{#2-temp}
  }{%
    \edef\tud@write@file{tutorials/#2-temp}
  }
  \IfFileExists{\tud@write@file.pdf}{%
    \@tempcnta\z@%
    \@for\@tempa:=#3\do{\advance\@tempcnta\@ne}%
    \ifnum\@tempcnta>\z@%
      \setlength{\@tempdima}{\textwidth}%
      \divide\@tempdima\@tempcnta%
      \advance\@tempcnta\m@ne%
      \multiply\@tempcnta 2%
      \addtolength{\@tempdima}{-\@tempcnta\tabcolsep}%
      \@for\@tempa:=#3\do{%
        \advance\@tempcnta\m@ne%
        \edef\@tempb{%
          keepaspectratio,page=\@tempa,width=\the\@tempdima,%
          \IfNoValueTF{#1}{}{#1}%
        }
        \fbox{%
          \expandafter\includegraphics\expandafter[\@tempb]{%
            \tud@write@file.pdf%
          }%
        }%
        \ifnum\@tempcnta>\z@\hfill\fi%
      }%
    \fi%
  }{}%
}
\AtBeginEnvironment{Tutorial-}{\let\tud@tut@append\relax}
\newwrite\tud@tut@output
\immediate\openout\tud@tut@output=\jobname.tut\relax
\newread\tud@tut@input
\newcommand*\tud@tut@line{}
\newcommand*\tud@tut@append{%
  \begingroup%
  \endlinechar=-1%
  \openin\tud@tut@input=\jobname-temp.tut%
  \@tempswafalse%
  \loop\unless\ifeof\tud@tut@input%
    \read\tud@tut@input to\tud@tut@line%
    \ifx\tud@tut@line\@empty\else\@tempswatrue\fi%
    \if@tempswa%
      \immediate\write\tud@tut@output{\unexpanded\expandafter{\tud@tut@line}}%
    \fi%
    \ifx\tud@tut@line\@empty\@tempswafalse\else\@tempswatrue\fi%
  \repeat%
  \closein\tud@tut@input%
  \endgroup%
}
\newcommand\StartTutorial[1][%
  \noindent%
  Bevor es richtig los geht, werden die Dokumentklasse sowie die notwendigen
  Pakete geladen:
]{%
  \Hy@raisedlink{\hyperdef{\jobname}{tutorials:\jobname}{}}%
  \faculty{}%
  \setlength\headingsvskip{-15mm}%
  \manualmark\markright{\@title}%
  \maketitle#1%
}
\newcommand*\FinishTutorial{%
  \immediate\closeout\tud@tut@output%
  \clearpage\pagestyle{empty}\@afterindentfalse\@afterheading%
  Zum Ende wird das vollst\"andige Tutorial als \"ubersetzbarer Quelltext
  ausgegeben, um es via Copy~\&~Paste direkt verwenden zu k\"onnen.
  \begin{quoting}[rightmargin=0pt]%
  \lstinputlisting[style=tudscr]{\jobname.tut}%
  \end{quoting}%
}
\PassOptionsToPackage{colorinlistoftodos,obeyFinal,color=HKS92!10}{todonotes}
\RequirePackage{todonotes}[2012/07/25]
\newcommand*\@ToDo{}
\NewDocumentCommand\ToDo{somo}{%
  \ifbool{@tud@todo}{%
    \begingroup%
      \define@boolkey{todonotes}{doc}[true]{%
        \ifbool{KV@todonotes@doc}{\setkeys{todonotes}{color=HKS41!30}}{}%
      }%
      \define@boolkey{todonotes}{man}[true]{%
        \ifbool{KV@todonotes@man}{\setkeys{todonotes}{color=HKS41!10}}{}%
      }%
      \define@boolkey{todonotes}{imp}[true]{%
        \ifbool{KV@todonotes@imp}{\setkeys{todonotes}{color=HKS07!50}}{}%
      }%
      \define@boolkey{todonotes}{nxt}[true]{%
        \ifbool{KV@todonotes@nxt}{\setkeys{todonotes}{color=HKS57!30}}{}%
      }%
      \def\@ToDo{}%
      \IfNoValueTF{#2}{%
        \IfBooleanTF{#1}{\edef\@ToDo{nolist}}{}%
      }{%
        \IfBooleanTF{#1}{\edef\@ToDo{#2,nolist}}{\edef\@ToDo{#2}}%
      }%
      \renewcommand*\marginpar[2][]{\marginnote[##1]{##2}[\dimexpr-1.6ex+1pt]}%
      \vskip.8ex%
      \IfNoValueTF{#4}{}{%
        \settowidth\marginparwidth{#4}%
        \addtolength\marginparwidth{\dimexpr1.6ex+1pt}%
        \let\par\relax\noindent%
        \edef\@tempa{\noexpand\todo[\@ToDo,noline,nolist]}%
        \@tempa{#4}%
      }%
      \edef\@tempa{\noexpand\todo[\@ToDo,inline]}%
      \@tempa{#3}%
    \endgroup%
    \par\noindent%
  }{}%
  \ignorespaces%
}
\newcommand*\ListOfToDo{\if@tud@todo\listoftodos\fi}
\reversemarginpar
\PassOptionsToPackage{hyperindex=false}{hyperref}
\RequirePackage{hyperref}[2012/11/06]
\hypersetup{colorlinks,linkcolor=blue}
\pdfstringdefDisableCommands{%
  \let\Application\@Application%
  \let\Class\@Class%
  \let\Package\@Package%
  \let\TUDScript\@TUDScript%
  \let\NoCaseChange\@firstofone%
}
\newrobustcmd*\bsc{\@backslashchar}
\newcommand*\File[1]{\mbox{\texturn{#1}}}
\NewDocumentCommand\Package{sm}{%
  \IfBooleanTF{#1}{\texturn{#2}}{%
    \hyperref{../\tudscr@manual}{\tudscr@manual}{files:#2}{\texturn{#2}}%
  }%
}
\NewDocumentCommand\Option{smo}{%
  \IfBooleanTF{#1}{%
    \texttt{#2}\IfValueTF{#3}{\texttt{=#3}}{}%
  }{%
    \hyperref{../\tudscr@manual}{\tudscr@manual}{options:#2}{\texttt{#2}}%
    \IfValueTF{#3}{\texttt{=#3}}{}%
  }%
}
\NewDocumentCommand\Environment{sm}{%
  \IfBooleanTF{#1}{\texttt{#2}}{%
    \hyperref{../\tudscr@manual}{\tudscr@manual}{macros:#2}{\texttt{#2}}%
  }%
}
\NewDocumentCommand\Macro{sm}{%
  \IfBooleanTF{#1}{\texttt{\bsc#2}}{%
    \hyperref{../\tudscr@manual}{\tudscr@manual}{macros:#2}{\texttt{\bsc#2}}%
  }%
}
\newrobustcmd*\PName[1]{\texttt{\textsl{<#1>}}}
\newrobustcmd*\PBoolean{\PName{Ein-Aus-Wert}}
\newrobustcmd*\PSet{\PName{Einstellung}}
\newrobustcmd*\Parameter[1]{\texttt{\{}\PName{#1}\texttt{\}}}
\newrobustcmd*\OParameter[1]{\texttt{[}\PName{#1}\texttt{]}}
\newrobustcmd*\LParameter{\texttt{[}\PName{Parameterliste}\texttt{]}}
\newrobustcmd*\OLParameter[1]{%
  \texttt{[}\PName{#1}|\PName{Parameterliste}\texttt{]}%
}
\newrobustcmd*\PValue[1]{\texttt{#1}}
\newrobustcmd*\PParameter[1]{\texttt{\{#1\}}}
\newrobustcmd*\POParameter[1]{\texttt{[#1]}}
%%% From File: tudscr-misc.dtx
\RequirePackage{xspace}[2009/10/20]
\xspaceaddexceptions{"=}
\newcommand*\vTUDScript{}
\AtBeginDocument{%
  \def\@tempb#1 #2 #3\relax#4\relax{\def\vTUDScript{#2}}%
  \edef\@tempa{\TUDVersion}%
  \expandafter\@tempb\@tempa\relax? ? \relax\relax%
}
\newcommand*\vKOMAScript{v3.12\xspace}
\DeclareRobustCommand\TUDScript{%
  \ifdin{\MakeTextUppercase{\@TUDScript}}{%
    \textsf{T\kern.05em U\kern.05em D\kern.1em-\kern.1em}\KOMAScript%
  }\xspace%
}
\newcommand*\@TUDScript{TUD-KOMA-Script}
\RequirePackage{scrhack}[2014/07/07]
\newcommand*\hrfn[2]{\href{#1}{#2}\footnote{\scriptsize\url{#1}}}
\NewDocumentCommand\scrguide{s}{%
  \def\@tempc{%
    http://mirrors.ctan.org/macros/latex/contrib/koma-script/doc/scrguide.pdf%
  }%
  \IfBooleanTF{#1}{%
    \href{\@tempc}{\File{scrguide.pdf}}%
  }{%
    \hrfn{\@tempc}{\File{scrguide.pdf}}%
  }%
  \xspace%
}
\newcommand*\CD{Corporate Design\xspace}
\newcommand*\CDs{Corporate Designs\xspace}
\newcommand*\TUD{Technische Universit\"at Dresden\xspace}
\newcommand*\TnUD{Technischen Universit\"at Dresden\xspace}
\newcommand*\DDC{\mbox{DRESDEN-concept}\xspace}
\AfterPackage{babel}{%
  \@expandtwoargs\in@{,english,}{,\bbl@loaded,}%
  \ifin@%
    \renewcommand*\CD{\foreignlanguage{english}{Corporate Design}\xspace}
    \renewcommand*\CDs{\foreignlanguage{english}{Corporate Designs}\xspace}
  \fi
}
\newcommand*\Univers{\textubn{Univers}\xspace}
\newcommand*\DIN{\textdbn{DIN~BOLD}\xspace}
\endinput
%%
%% End of file `tudscrman.sty'.
