%\PassOptionsToClass{ToDo=no}{tudscrman3}
%\includeonly{%
%%  tudscr-preface,
%%  tudscr-introduction,
%  tudscr-mainclasses,
%%  tudscr-poster,
%%  tudscr-bundle,
%%  tudscr-examples,
%%  tudscr-packages,
%%  tudscr-hints,
%%  tudscr-installation,
%%  tudscr-obsolete,
%%  tudscr-additional,
%  tudscr-index,
%}
%\input{tudscr}

\RequirePackage[ngerman=ngerman-x-latest]{hyphsubst}
\documentclass[english,ngerman,ToDo=no]{tudscrman3}
\usepackage{selinput}\SelectInputMappings{adieresis={ä},germandbls={ß}}
\usepackage[T1]{fontenc}
\usepackage{blindtext}
\begin{document}

\begin{Declaration}[%
  v2.02!Wert \PValue{double} mit \PValue{multi} ersetzt,%
  v2.02!Wert \PValue{tocleveldown} neu,%
  v2.02!Wert \PValue{markboth} neu,%
  v2.04!Wert \PValue{tocmultiple} neu%
]{\Option{abstract}[\PSet]}%
\printdeclarationlist%
\index{Zusammenfassung|!(}%
\index{Zweispaltensatz}%
%
Diese Option wird bereits durch \KOMAScript{} für die Klassen \Class{scrartcl} 
und \Class{scrreprt} standardmäßig bereitgestellt. Für die Klasse 
\Class{scrbook} geschieht dies nicht. Dazu heißt es im Handbuch:
\end{Declaration}

\begin{Declaration}[%
  v2.02!\Macro{nextabstract} zur Trennung
]{\Environment{abstract}[\OLParameter{Sprache}]}
\begin{Declaration}[v2.02]{\Macro{nextabstract}\OLParameter{Sprache}}
\begin{Declaration}{\Key{\Environment{abstract}}{language}[\PName{Sprache}]}
\begin{Declaration}[v2.02]{%
  \Key{\Environment{abstract}}{markboth}[\PBName{Kolumnentitel}]%
}
\begin{Declaration}[v2.02]{%
  \Key{\Environment{abstract}}{pagestyle}[\PName{Seitenstil}]%
}
\begin{Declaration}{\Key{\Environment{abstract}}{columns}[\PName{Anzahl}]}
\begin{Declaration}{\Key{\Environment{abstract}}{option}[\PSet]}{%
  \see*{\Option{abstract}'ppage'}%
}
\printdeclarationlist%
\index{Zweispaltensatz}%
%
Die \Environment{abstract}-Umgebung dient speziell für die Ausgabe einer 
Zusammenfassung, entweder zu Beginn eines Dokumentes oder beispielsweise vor 
einem Teil oder Kapitel. Wird ein Titelkopf und keine Titelseite verwendet 
(\KOMAScript-Option \Option{titlepage}[false]), wird eine Zusammenfassung, die  
\emph{nicht} mit der Überschrift einer Gliederungsebene gesetzt wird, wie bei 
den \KOMAScript"=Klassen in einer \Environment{quotation}"=Umgebung gesetzt, um 
diese vom restlichen Fließtext abzuheben. Diese hat jedoch den Nachteil, dass 
in besagter Umgebung die \KOMAScript-Option \Option{parskip} nicht beachtet 
wird. Um dieses Problem zu beheben, kann das Paket \Package{quoting} geladen 
werden, wodurch stattdessen die Umgebung \Environment{quoting} verwendet wird.

Mit der zuvor erläuterten Option \Option{abstract} kann eingestellt werden, in 
welcher Gestalt die Zusammenfassung ausgegeben werden soll. Des Weiteren lässt 
sich jede \Environment{abstract}"=Umgebung individuell über weitere Parameter 
als optionales Argument anpassen. Damit lassen sich gegebenenfalls für eine 
bestimmte \Environment{abstract}"=Umgebung die globalen Einstellungen 
der Option \Option{abstract} lokal ändern und gezielt anpassen. 

Wird das Paket \Package{babel} durch den Anwender geladen, kann mit dem 
optionalen Parameter \Key{\Environment{abstract}}{language}[\PName{Sprache}] 
die Sprache innerhalb der \Environment{abstract}"=Umgebung geändert werden. 
Dafür muss die gewünschte Sprache bereits mit dem Laden von \Package{babel} 
entweder als Paketoption oder besser noch als Klassenoption angegeben worden 
sein. Dadurch werden innerhalb der Umgebung die Bezeichnung \Term{abstractname} 
und die Trennungsmuster sprachspezifisch angepasst. Die gewünschte Sprache kann 
auch ohne die Verwendung des Parameters \Key{\Environment{abstract}}{language} 
direkt als optionales Argument übergeben werden.

\ChangedAt{v2.02}
Mit \Key{\Environment{abstract}}{markboth} können die gesetzten Kolumnentitel 
beeinflusst werden. Wird \Key{\Environment{abstract}}{markboth}[false] 
angegeben, werden automatische respektive manuelle Kolumnentitel verwendet. Die 
Einstellung \Key{\Environment{abstract}}{markboth}[true] wiederum setzt diese 
für linke und rechte Seiten auf \Term{abstractname}. Außerdem lässt sich der 
Kolumnentitel mit \Key{\Environment{abstract}}{markboth}[\PName{Kolumnentitel}] 
auch direkt festlegen. So können die Kolumnen beispielsweise mit der Verwendung 
von \Key{\Environment{abstract}}{markboth}[\PParameter{}] auch gelöscht werden. 
Sollte \Key{\Environment{abstract}}{markboth} aktiviert werden, so wird in der
Umgebung automatisch der Seitenstil \PageStyle{headings} genutzt~-- falls eine 
Titelseite und kein Titelkopf (\KOMAScript-Option \Option{titlepage}[true]) 
verwendet wird. Mit dem Parameter \Key{\Environment{abstract}}{pagestyle} kann 
dieser auch manuell angegeben werden, die \PageStyle{tudheadings}"=Seitenstile 
werden dabei ebenfalls unterstützt werden.

Wurde das Paket \Package{multicol} geladen, kann mit dem Parameter 
\Key{\Environment{abstract}}{columns}[\PName{Anzahl}] die Zusammenfassung 
mehrspaltig gesetzt werden. Dem Parameter \Key{\Environment{abstract}}{option} 
können alle gültigen, bereits erläuterten Werte der Option \Option{abstract} 
übergeben werden. Die damit gemachten Einstellungen wirken sich~-- im Gegensatz 
zur Angabe als Klassenoption oder über die Variante der späten Optionenwahl%
\footnote{%
  \Macro{TUDoption}\PParameter{abstract}\Parameter{Einstellung} oder
  \Macro{TUDoptions}\PParameter{abstract=\PName{Einstellung}}
}~-- lediglich lokal auf die verwendete \Environment{abstract}"=Umgebung aus.

\ChangedAt{v2.02}
Sollen mehrere Zusammenfassungen im gleichen Stil erzeugt und die Einstellungen 
der Option \Option{abstract}[simple/multiple/fill/nofill] beachtet werden, so 
ist die \Environment{abstract}"=Umgebung nur einmal zu verwenden. Innerhalb 
dieser müssen die einzelnen Zusammenfassungen mit \Macro{nextabstract} 
voneinander getrennt werden. Der Befehl akzeptiert dabei im optionalen Argument 
alle Parameter, die auch von der \Environment{abstract}"=Umgebung selbst 
unterstützt werden. Das Minimalbeispiel in \fullref{sec:exmpl:dissertation} 
zeigt hierfür das notwendige Vorgehen.

Wird die \Environment{abstract}"=Umgebung innerhalb des Argumentes der Befehle 
\Macro{setpartpreamble} beziehungsweise \Macro{setchapterpreamble} verwendet, 
so wird die Überschrift~-- im Fall, dass nicht \Option{abstract}[false] gewählt 
ist~-- \emph{immer} in Textgröße und zentriert gesetzt.
\end{Declaration}
\end{Declaration}
\end{Declaration}
\end{Declaration}
\end{Declaration}
\end{Declaration}
\end{Declaration}

%\index[changelognew]{v2.02!Implementierung!
%  \hyperidx [tudscr:macros:abstract]{
%    \begingroup \ttfamily  abstract\endgroup
%    \begingroup ~\footnotesize (Umgebung)\endgroup
%  }:~bla
%}
%\index[changelognew]{v2.02!Implementierung!
%  \hyperidx [tudscr:macros:abstract]{
%    \begingroup \ttfamily  abstract\endgroup
%    \begingroup ~\footnotesize (Umgebung)\endgroup
%  }:~xxx
%}
%\index[changelognew]{v2.02!Implementierung!
%  \begingroup \ttfamily  abstract\endgroup
%  \begingroup ~\footnotesize (Umgebung)\endgroup
%  :~sss
%}


\Blindtext
\ChangedAt{v2.06}
\blindtext
\ChangedAt{v2.06!Bla}
\blindtext
\ChangedAt{v2.06!Kram!\Macro{Blubb}}
%\blindtext
%\makeatletter
%\edef\bla{@}
%\meaning\bla
%\meaning @
%\the\catcode`@
%\makeatother
%
%\edef\bla{@}
%\meaning\bla
%\meaning @
%\the\catcode`@
%
%\def\bla{aa@bb}

%\def\blubb{aaa!bbb!eee}
%\tudatreplace\blubb
%\meaning\blubb
%
%
%\def\blubb{aaa@bbb@eee}
%\tudatreplace\blubb
%\meaning\blubb

%\tudatreplace{}

%\meaning\bla


%\indexentry{\hyperidx [tudscr:options:abstract]{abstract@\begingroup 
%\ttfamily  
%abstract\endgroup |(declare}}{41}


%\manualhyperdef{aaa:bbb:"@foo}
%\Blindtext
%\index[macros]{\hyperidx[aaa:bbb:"@foo]{"@bla}|(declare}
%\Blindtext
%\index[macros]{\hyperidx[aaa:bbb:"@foo]{"@bla}|declare)}
%\Blindtext
%
%
%\index[macros]{abstract@\begingroup \ttfamily  abstract\endgroup|declare}

%\Macro{bla}
%
%\Macro{@blubb}
%
%\index{Sam@\textsl{Sam}}
%
%\index{Sam!dude}
%
%\index{Sam!aaa@\textbf{typ}}

\clearpage
\input{tudscr-index}
%\printindex
%\printindex[macros]
\end{document}

